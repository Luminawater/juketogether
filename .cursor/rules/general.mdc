---
alwaysApply: true
---

We're building a cross-platform Expo app that runs on both mobile (iOS/Android) and web. The app is located in the `SoundCloudJukeboxMobile` directory and uses React Native with Expo SDK ~54. We leverage React Navigation for routing, React Native Paper for UI components, and react-native-web for web compatibility. The app shares the same codebase across platforms, using Supabase for authentication and data management, and Socket.io for real-time features. TypeScript ensures type safety across the entire application. We use Expo's built-in web support (`expo start --web`) to run the same React Native code in browsers, while maintaining native mobile capabilities through Expo's managed workflow. GitHub handles Vercel deployments automatically, so we don't need to think about deployment. The user will be running local run commands for development.

Keep files under 1500 lines. If a file approaches or exceeds 1500 lines, split it into multiple smaller files and import features/functions as needed. This improves maintainability and readability.

All media player components (YouTube, Spotify, SoundCloud) must be responsive and synchronized with Supabase music sessions, which serve as the single source of truth for playback state. The music sessions stored in Supabase control all playback operations including: current playback time, play/pause state, track transitions (next/previous), and stop commands. Player components must continuously listen to and react to changes in the Supabase session state, ensuring all players across all platforms remain synchronized in real-time.
